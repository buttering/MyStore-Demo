[TOC]

说明
========================

## 排版约定

| 排版格式 |  含义  |
|:----:|:----:|
| < >  |  变量  |
| [ ]  | 可选项  |
| { }  | 必选项  |
|  \|  | 互斥关系 |

## 时间与日期

日期与时间的表示有多种方式。为统一起见，除非是约定俗成或者有相应规范的，凡需要日期时间表示的地方一律采用UTC东八区时间，遵循ISO 8601，并做以下约束：

1. 表示日期一律采用`YYYY-MM-DD`方式，例如`2016-06-01`表示2016年6月1日
2. 表示时间一律采用`hh:mm:ss`方式，并在最后加上`+08:00`表示东八区时间。例如`23:00:10+08:00`表示东八区时间23点0分10秒。
3. 凡涉及日期和时间合并表示时，在两者中间加大写字母`T`，例如`2016-06-01T23:00:10+08:00`表示东八区时间2016年6月1日23点0分10秒

## 错误返回格式

统一为如下格式。后续各接口不再单独列出。

| 参数    | 类型   | 描述         |
| ------- | ------ | ------------ |
| code    | int    | 错误代码     |
| message | String | 错误描述信息 |

## 公共错误码

| 错误码 | 错误描述         | HTTP状态码 |    中文解释    |      |
| ------ | ---------------- | ---------- | :------------: | ---- |
| 0      | SUCCESS          | 200        |    成功请求    |      |
| 1      | ERROR            | 500        | 服务器通用异常 |      |
| 100    | ARGUMENT_ILLEGAL | 400        |  请求参数错误  |      |
|        |                  |            |                |      |



用户相关接口
========================

## 1. 用户登录

### 接口功能

用户登录

### URL

```
/api/session
```

### 请求方法

```
POST
```

### 请求体参数

| 参数     | 类型   | 描述     | 可控 |
| -------- | ------ | -------- | ---- |
| username | String | 用户名   | 否   |
| password | String | 用户密码 | 否   |

### 返回字段

| 参数    | 类型   | 描述     |
| ------- | ------ | -------- |
| code    | Int    | 状态码   |
| message | String | 状态信息 |
| data    | Object | 用户对象 |

### 请求体示例

```json
{
    "username": "wang",
    "password": "password"
}
```

### 应答示例

```json
{
    "code": 200,
    "message": "SUCCESS",
    "data": {
        "username": "wang",
        "id": 1,
        "role": 1
    }
}
```

## 2. 用户登出

### 接口功能

用户登出账号

### URL

```
/api/session/{id}
```

### 请求方法

```
DELETE
```

### url参数

| 参数 | 类型 | 描述   | 可控 |
| ---- | ---- | ------ | ---- |
| id   | Int  | 用户id | 否   |

### 返回字段

| 参数    | 类型   | 描述     |
| ------- | ------ | -------- |
| code    | Int    | 状态码   |
| message | String | 状态信息 |

### 应答示例

```json
{
    "code": 200,
    "message": "SUCCESS"
}
```


## 3. 用户注册

### 接口功能

进行用户注册

### URL

```
/api/user
```

### 请求方法

```
POST
```

### 参数

| 参数     | 类型   | 描述     | 可空 |
| -------- | ------ | -------- | ---- |
| username | String | 用户名称 | 否   |
| password | String | 用户密码 | 否   |
| email    | String | 邮箱     | 是   |
| phone    | String | 电话     | 是   |
| question | String | 密保问题 | 是   |
| answer   | String | 密保答案 | 是   |
| role     | Int    | 用户角色 | 否   |

### 返回字段

| 参数    | 类型   | 描述     |
| ------- | ------ | -------- |
| code    | String | 状态码   |
| message | String | 状态信息 |

### 请求体示例

```json
{
    "username": "wang",
    "password": "password",
    "email": "wang@163.com",
    "phone": 1869544651,
    "question": "我的妻子是谁",
    "answer": "MIKU"
}
```

### 应答示例

```json
{
    "code": 200,
    "message": "SUCCESS"
}
```

## 4. 获取用户信息

### 接口功能

获取对应用户信息

### URL

```
/api/user/{id}
```

### 请求方法

```
GET
```

### url参数

| 参数 | 类型 | 描述   | 可空 |
| ---- | ---- | ------ | ---- |
| id   | Int  | 用户id | 否   |

### 返回字段

| 参数    | 类型   | 描述     |
| ------- | ------ | -------- |
| code    | Int    | 状态码   |
| message | String | 状态信息 |

### 应答示例

```json
{
    "code": 200,
    "message": "SUCCESS"
}
```

## 5. 更新用户信息

### 接口功能

更新对应用户信息

### URL

```
/api/user/{id}
```

### 请求方法

```
PUT
```

### url参数

| 参数 | 类型 | 描述   | 可空 |
| ---- | ---- | ------ | ---- |
| id   | Int  | 用户id | 否   |

### 请求体参数

| 参数     | 类型   | 描述     | 可空 |
| -------- | ------ | -------- | ---- |
| username | String | 用户名称 | 是   |
| password | String | 用户密码 | 是   |
| email    | String | 邮箱     | 是   |
| phone    | String | 电话     | 是   |
| question | String | 密保问题 | 是   |
| answer   | String | 密保答案 | 是   |
| role     | Int    | 用户角色 | 是   |

### 返回字段

| 参数    | 类型   | 描述     |
| ------- | ------ | -------- |
| code    | Int    | 状态码   |
| message | String | 状态信息 |
| data    | Object | 用户信息 |

### 请求体示例

```json
{
    "username": "wang",
    "email": "wang@163.com",
    "phone": 1869544651,
}
```

### 应答示例

```json
{
    "code": 200,
    "message": "SUCCESS",
    "data":
    {
        "username": "wang",
        "id": 1,
        "role": 1
    }
}
```

## 6. 注销用户

### 接口功能

注销对应用户

### URL

```
/api/user/{id}
```

### 请求方法

```
DELETE
```

### url参数

| 参数 | 类型   | 描述   | 可空 |
| ---- | ------ | ------ | ---- |
| id   | String | 用户id | 否   |

### 请求体参数

| 参数     | 类型   | 描述         | 可空 |
| -------- | ------ | ------------ | ---- |
| password | String | 用户密码     | 否   |
| answer   | String | 用户密保答案 | 否   |

### 返回字段

| 参数    | 类型   | 描述     |
| ------- | ------ | -------- |
| code    | Int    | 状态码   |
| message | String | 状态信息 |

### 请求体示例

```json
{
    "password": D5V22WDS4XVH1213DE,
    "answer": "MIKU"
}
```

### 应答示例

```json
{
    "code": 200,
    "message": "SUCCESS"
}
```

## 7. 修改密保

## 8. 修改密码

## 9. 忘记密码-获取密保问题

## 10. 忘记密码-验证密保

## 11. 忘记密码-修改密码

地址相关接口
==========================

## 1. 添加地址

## 2. 删除地址

## 3. 更新地址

## 4. 查看所有地址

## 5. 查看详细地址

商品相关接口
==========================

## 1. 查找商品

## 2. 商品详细信息

购物车相关接口
==========================

## 1. 添加商品

## 2. 删除商品

## 3. 获取购物车

## 4. 更新商品数量

订单相关接口
==========================

## 1. 创建普通订单

## 2. 从购物车生成订单

## 3. 取消订单

## 4. 获取订单详情

支付相关接口
==========================











模板
===========================

### 接口功能



### URL

```

```

### 请求方法

```

```

### url参数

| 参数 | 类型 | 描述 | 可空 |
| ---- | ---- | ---- | ---- |
|      |      |      |      |

### 请求体参数

| 参数 | 类型 | 描述 | 可空 |
| ---- | ---- | ---- | ---- |
|      |      |      |      |

### 返回字段

| 参数    | 类型   | 描述     |
| ------- | ------ | -------- |
| code    | Int    | 状态码   |
| message | String | 状态信息 |

### 请求体示例

```json

```

### 应答示例

```json
{
    "code": 200,
    "message": "SUCCESS"
}
```





